---
title: Plot Missing Values
author: ''
date: '2018-05-22'
slug: plot-missing-values
categories:
  - r tips
tags:
  - EDA
  - visualization
  - function
---


> In this post, we will explore **visdat** package to visualize missing values. Then, we will recreate a similar plot using **ggplot2** package. Next, using the **ggplot2** method, we will visualize other numeric or character values in a dataset. Finally, using the **ggplot2** method, we will create a custom function that will plot any value in any dataset.

There are many ways to inspect and find about missing values in a dataset. For example, `summary()` function from base R produces descriptive statistics and number of `NA`'s. Let's use that with **airquality** dataset, that has some missing values.

```{r message=FALSE, warning=FALSE}
summary(airquality)
```

From the output of `summary()` function, we can see columns/variables **Ozone** has 36 missing values (`NA`'s) and column **Solar.R** has 7 missing values. 

You can also inspect the whole dataset as in a spreadsheet view using `View()`.

```{r eval=FALSE, message=FALSE, warning=FALSE}
View(airquality)
```


## Visualize missing values with visdat package

Let's explore the **visdat** package that promises to provide an easy way to inspect `NA`'s for the whole dataset. If you haven't used it before, you have to install it and then load it.

```{r}
# install.packages("visdat")    #installs visdat package
library(visdat)                 #loads visdat package
```

There are two functions in **visdat** package that we need to know: `vis_miss()` function that plots missing values in a dataset and `vis_dat()` function that plots class of variables in a dataset in addition to missing values. After loading the **visdat** package, both functions are available and they take a data.frame object as argument and returns a plot of that data.frame.

Let's use **airquality** dataset with `vis_miss()` function to visualize missing values. This plots the columns in **airquality** data.frame vertically and observations horizontally, resembling the way data is stored. Black color represents missing values and grey color represents non-missing values. There is even percentages of missing vlaues with one decimal points for each column and an overall percentage in the legend, which I find extremely useful. Compared to `summary()`, this plot gives a lot more information.

```{r message=FALSE, warning=FALSE}
vis_miss(airquality)
```

Let's use `vis_dat()` function. This plot visualizes the class of each column of **airquality** dataset in addition to indicating missing values. However, percentages of missing values are not shown. 

```{r message=FALSE, warning=FALSE}
vis_dat(airquality)
```
