---
title: Linear regression with R
author: Masood
date: '2018-06-12'
slug: linear-regression-with-r
categories:
  - r tips
tags:
  - statistics
---



<div id="estimating-linear-regression" class="section level1">
<h1>Estimating linear regression</h1>
<p>Before starting, I am going to load a number of utility libraries for this session.</p>
<pre class="r"><code>library(tidyverse)
library(broom)
library(plotly)</code></pre>
<p>A simple linear regression using <strong>mtcars</strong> dataset. I want to look at how weight of a car is associated with how many miles a car travels per gallon of gasoline–an indicator of fuel economy. I am going to look at their summary and scatter plot. For scatter plot, I use base-R’s <code>plot()</code> function.</p>
<pre class="r"><code>summary(mtcars[, c(&quot;wt&quot;, &quot;mpg&quot;)])</code></pre>
<pre><code>##        wt             mpg       
##  Min.   :1.513   Min.   :10.40  
##  1st Qu.:2.581   1st Qu.:15.43  
##  Median :3.325   Median :19.20  
##  Mean   :3.217   Mean   :20.09  
##  3rd Qu.:3.610   3rd Qu.:22.80  
##  Max.   :5.424   Max.   :33.90</code></pre>
<pre class="r"><code>plot(mtcars$wt, mtcars$mpg)</code></pre>
<p><img src="/post/2018-06-12-linear-regression-with-r_files/figure-html/unnamed-chunk-2-1.png" width="672" /></p>
<p>It seems like heavier cars have lower mileage Next, I regress mpg on weight using linear regression.</p>
<pre class="r"><code>lm(mpg ~ wt, data = mtcars)</code></pre>
<pre><code>## 
## Call:
## lm(formula = mpg ~ wt, data = mtcars)
## 
## Coefficients:
## (Intercept)           wt  
##      37.285       -5.344</code></pre>
<p>The output from <code>lm()</code> function quantifies a negative relationship between weight and mileage. The output however does not provide other useful information such as confidence interval and r-squared, which can be accessed if we feed the <code>lm</code> function into <code>summary()</code> function.</p>
<pre class="r"><code>summary(lm(mpg ~ wt, data = mtcars))</code></pre>
<pre><code>## 
## Call:
## lm(formula = mpg ~ wt, data = mtcars)
## 
## Residuals:
##     Min      1Q  Median      3Q     Max 
## -4.5432 -2.3647 -0.1252  1.4096  6.8727 
## 
## Coefficients:
##             Estimate Std. Error t value Pr(&gt;|t|)    
## (Intercept)  37.2851     1.8776  19.858  &lt; 2e-16 ***
## wt           -5.3445     0.5591  -9.559 1.29e-10 ***
## ---
## Signif. codes:  0 &#39;***&#39; 0.001 &#39;**&#39; 0.01 &#39;*&#39; 0.05 &#39;.&#39; 0.1 &#39; &#39; 1
## 
## Residual standard error: 3.046 on 30 degrees of freedom
## Multiple R-squared:  0.7528, Adjusted R-squared:  0.7446 
## F-statistic: 91.38 on 1 and 30 DF,  p-value: 1.294e-10</code></pre>
</div>
